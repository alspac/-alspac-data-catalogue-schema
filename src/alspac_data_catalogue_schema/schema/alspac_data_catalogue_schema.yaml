id: https://w3id.org/alspac/alspac-data-catalogue-schema
name: alspac-data-catalogue-schema
title: alspac-data-catalogue-schema
description: |-
  This project is for the schema of alspac data catalogues and meta data on data sets
license: MIT
see_also:
  - https://alspac.github.io/alspac-data-catalogue-schema

# These have been augmented with the normative recomendation here https://www.w3.org/TR/2022/WD-vocab-dcat-3-20220510/

prefixes:
  alspacdcs: https://w3id.org/alspac/alspac-data-catalogue-schema/
  linkml: https://w3id.org/linkml/
  biolink: https://w3id.org/biolink/vocab/
  schema: http://schema.org/
  PATO: http://purl.obolibrary.org/obo/PATO_
  example: http://example.org/rdf#
  dce: http://purl.org/dc/elements/1.1/
  dcat: http://www.w3.org/ns/dcat#
  dcterms: http://purl.org/dc/terms/
  dctypes: http://purl.org/dc/dcmitype/
  foaf: http://xmlns.com/foaf/0.1/
  locn: http://www.w3.org/ns/locn#
  odrl: http://www.w3.org/ns/odrl/2/
  owl: http://www.w3.org/2002/07/owl#
  prov: http://www.w3.org/ns/prov#
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  skos: http://www.w3.org/2004/02/skos/core#
  spdx: http://spdx.org/rdf/terms#
  time: http://www.w3.org/2006/time#
  vcard: http://www.w3.org/2006/vcard/ns#
  ORCID: http://identifiers.org/orcid/
  doi: https://doi.org/
  
default_prefix: alspacdcs 
default_range: string
default_curi_maps:
  - semweb_context

imports:
  - linkml:types
  
classes:
  NamedThing:
    description: >-
     A generic grouping for any identifiable entity
    slots:
     - id
     - name 
     - description
    class_uri: schema:Thing

  AlspacDataCatalogue:
    class_uri: dcat:Catalog
    is_a: NamedThing
    description: >-
      Represents an alspac data catalogue. That is a set of named alspac data sets.
    slots:
      - primary_investigator_orcids
      - primary_email
      - named_alspac_data_set_collection 
      

  NamedAlspacDataSet:
    class_uri: dcat:Dataset
    is_a: NamedThing
    description: >-
      Represents a named_alspac_data_set. That is a set of data that has been collected or produced to be named, reused and distributed.

    slots:
      - landing_page_url
      - primary_investigator_orcids
      - keywords
      - has_current_version
      - versions
      - primary_email
      - documentation_authors_orcids
      - main_publication_doi
      - publications_dois

# #  named_alspac_data_set_collection:
# #    tree_root: true
# #    description: >-
# #      A holder for named_alspac_data_set objects
# #    attributes:
# #      entries:
# #        range: named_alspac_data_set ## Should this be a uriorcurie
# #        multivalued: true
# #        inlined: false

  AlspacDataSetVersion:
    class_uri: dcat:Dataset
    is_a: NamedThing
    description: >-
      Represents a version of a named_alspac_data_set. That is a specific set of data which internal people to alspac can use.
    slots:
      - qc_description
      - is_current_version
      - has_previous_version
      - has_next_version
      - authors
      - has_parts
      - known_issues

#   alspac_data_set_version_freeze:
#     class_uri: dcat:Dataset
#     is_a: NamedThing
#     description: >-
#       Represents a freeze of a version of named_alspac_data_set. That is a specific set of data which can be applied to use.
#     slots:
#       - freeze_number
#       - freeze_date
#       - freeze_of_version
#       - freeze_dataset
#       - primary_email
#       - authors
#       - git_tag

#   abstract_dataset_part:
#     class_uri: dcat:Dataset
#     is_a: NamedThing
#     description: >-
#       Represents an abstract part of named alspac data set, in a
#       version or freeze. For example in an omics context the data
#       collected for a single chr which would be made availble as a dcat
#       distribution of this type of dataset which would be of a specific file.
#     slots:
#       - data_distributions
#       - part_of

#   data_distribution:
#     class_uri: dcat:Distribution
#     is_a: NamedThing
#     description: >-
#       A dataset distribution has a loaction, file type and file size.
#     slots:
#       - abstract_dataset_part
#       - md5sum
#       - filesize
#       - filetype
#       - number_of_participants
#       - location_on_bc4
#       - location_on_bp

#   known_issue:
#     description: >-
#      Known issues for a dataset should have a description, when they
#      are logged and by who 
#     slots:
#      - issue_description
#      - logged_by
#      - logged_date

slots:
  id:
    identifier: true
    slot_uri: schema:identifier
    range: uriorcurie
    description: A unique identifier for a thing
  name:
    slot_uri: schema:name
    description: A human-readable name for a thing
  description:
    slot_uri: schema:description
    description: A human-readable description for a thing
  primary_email:
    slot_uri: schema:email
    description: The main email address to contact
    exact_mappings:
          - foaf:email
  primary_investigator_orcids:
    #slot_uri: ORCID:id
    range: uriorcurie
    description: The orcid ids of the pis
    multivalued: true
    inlined: false
  documentation_authors_orcids:
    #slot_uri: ORCID:id
    range: uriorcurie
    description: a list of the orcid ids of the documentation authors
    multivalued: true
    inlined: false
    values_from:
      - ORCID ## I wanted this to only let orcid ids here but not sure
            ## it works
  named_alspac_data_set_collection:
    #range: uriorcurie
    multivalued: true
    description: A list of named alspac data sets curies
    inlined: false
  versions:
    #range: uriorcurie
    description: A list of versions of a named dataset
    inlined: false
  keywords:
    description: A list of keywords.
    multivalued: true
    inlined: false
  has_current_version:
    slot_uri: dcat:hasCurrentVersion
    range: uriorcurie
    description: The current version of this named alspac dataset
#   has_previous_version:
#     range: uriorcurie
#     description: The previous version of this named alspac dataset
#   has_next_version:
#     range: uriorcurie
#     description: The next version of this named alspac dataset
#   is_current_version:
#     description: Is this the current version of a named alspac dataset
#   has_parts:
#     #range: uriorcurie
#     multivalued: true
#     inlined: true
#     inverse: part_of
#   freeze_number:
#     description: What number freeze is this?
#   freeze_date:
#     description: When was this freeze made?
#   freeze_of_version:
#     description: What version of a dataset is this freeze of?
#   freeze_dataset:
#     description: What dataset is this a freeze of?
#   data_distribution:
#   abstract_dataset_part:
#   part_of:
#   md5sum:
#     slot_uri: spdx:checksum
#     description: What is the md5sum of the file in this distribution?
#   filesize:
#     slot_uri: dcat:byteSize
#   filetype:
#     slot_uri: dcat:mediaType
#   number_of_samples:
#     description: The number of alspac participants in this dataset
#   location_on_bc4:
#     description: The location of this file on bc4
#   location_on_bp:
#     description: The location of this file on bc4
  main_publication_doi:
    #slot_uri: 
    description: A doi ref to the main publication describing this dataset.
  landing_page_url:
     slot_uri: dcat:landingPage
     description: A Web page that can be navigated to in a Web browser to gain access to the catalog, a dataset, its distributions and/or additional information.
#   woc_file_md5sum:
#     description: The md5sum of the woc file used to make this freeze.
#   git_tag:
#     description: The git tag of the repo that made this freeze.
#   qc_description:
#     description: Some text to describe any quality control that has
#     been performed.
  publications_dois:
     description: >-
       A list of publications dois that use or refer to
       this data set
#   data_distributions:
#     description: A list of data distributions for this abstract dataset
#     multivalued: true
#     inlined: false
#   number_of_participants:
#     description: Number of participants in this file
#     range: integer 
#   authors:
#     description: A list of orcids for the authors of the item
#     multivalued: true
#     inlined: false
#   known_issues:
#     description: >-
#       A holder for known issues
#     range: known_issue
#     multivalued: true
#     inlined: true
#   logged_by:
#     description: >-
#       The person who logged this issue.
#   logged_date:
#     description: >-
#       The date that this issue was logged.
#   issue_description:
#     description: >-
#       What the issue is.
  
